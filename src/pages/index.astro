---
// src/pages/index.astro
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import PostCard from '../components/PostCard.astro';
import recent from '../data/recent.json';
import archive from '../data/archive.json';

const featured = recent[0];
const recentPosts = recent.slice(1); // remaining recent posts (so featured sits alone)
---
<BaseLayout title="Neon Blog">
  <Header />
  <main class="container">
    <section class="hero">
      {featured ? (
        <div class="featured">
          <h1>{featured.title}</h1>
          <p class="date">{new Date(featured.date).toLocaleDateString()}</p>
          <p class="excerpt">{featured.excerpt}</p>
          <a class="cta" href={`/posts/${featured.slug}`}>READ MORE</a>
        </div>
      ) : (
        <div>No posts yet</div>
      )}
    </section>

    <section class="recent">
      <h2>Recent Posts</h2>
      <div class="grid-3">
        {recentPosts.map((p) => (
          <PostCard post={p} />
        ))}
      </div>
    </section>

    <section class="archive">
      <h2>Archive</h2>
      <ul>
        {archive.map((a) => (
          <li><a href={`/posts/${a.slug}`}>{a.title} â€” {new Date(a.date).toLocaleDateString()}</a></li>
        ))}
      </ul>
    </section>
  </main>
</BaseLayout>
